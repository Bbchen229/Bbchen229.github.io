<!DOCTYPE html>



  


<html class="theme-next gemini use-motion" lang="en">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">



  <link rel="icon" type="image/png" sizes="16x16" href="/images/logo.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT" />





  <link rel="alternate" href="/atom.xml" title="Chen's Homepage" type="application/atom+xml" />






<meta property="og:type" content="website">
<meta property="og:title" content="Chen&#39;s Homepage">
<meta property="og:url" content="http://example.com/default/page/3/index.html">
<meta property="og:site_name" content="Chen&#39;s Homepage">
<meta property="og:locale">
<meta property="article:author" content="Chen jiayuan">
<meta name="twitter:card" content="summary">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '',
    scheme: 'Gemini',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":true,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://example.com/page/3/"/>





  <title>Chen's Homepage</title>
  








<meta name="generator" content="Hexo 5.4.0"></head>

<body itemscope itemtype="http://schema.org/WebPage" lang="default">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>
    
    <a target="_blank" rel="noopener" href="https://github.com/Bbchen229" class="github-corner" aria-label="View source on GitHub"><svg width="80" height="80" viewBox="0 0 250 250" style="fill:#70B7FD; color:#fff; position: absolute; top: 0; border: 0; right: 0;" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Chen's Homepage</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">Hello AI</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            About
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            Tags
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            Categories
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            Archives
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/08/16/hello-world/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/touxiang.JPG">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Chen's Homepage">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2021/08/16/hello-world/" itemprop="url">Markdown语法</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2021-08-16T22:25:40+08:00">
                2021-08-16
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%9D%82%E4%B8%83%E6%9D%82%E5%85%AB/" itemprop="url" rel="index">
                    <span itemprop="name">杂七杂八</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>由于Hexo博客的撰写需要用Markdown，虽然比Latex要简单点，但是平时用的比较少，这些杂七杂八的语法很难一下子全部记住，因此在这页博客中记录一下</p>
<h2 id="文字">文字</h2>
<h3 id="标题">标题</h3>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># 一级标题</span><br><span class="line">## 二级标题</span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<h3 id="居中">居中</h3>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;center&gt;这一行需要居中&lt;/center&gt;</span><br></pre></td></tr></table></figure>
<h3 id="字体">字体</h3>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">**（）** 加粗</span><br><span class="line">*（）* 斜体</span><br><span class="line">～～（）～～ 删除线</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;font face= “黑体” color=red size=7&gt;字体设置&lt;/font&gt; #size 1-7，浏览器默认3</span><br></pre></td></tr></table></figure>
<h2 id="引用">引用</h2>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&gt;这是引用文字</span><br></pre></td></tr></table></figure>
<h2 id="分割线">分割线</h2>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">***</span><br></pre></td></tr></table></figure>
<h2 id="图片">图片</h2>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">![图片alt](图片地址 &#x27;&#x27;图片title&#x27;&#x27;)</span><br></pre></td></tr></table></figure>
<p>图片alt就是显示在图片下面的文字，相当于对图片内容的解释。 图片title是图片的标题，当鼠标移到图片上时显示的内容。title可加可不加</p>
<h2 id="链接">链接</h2>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[超链接名](超链接地址 &quot;超链接title&quot;)</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">站内链接</span><br><span class="line">&#123;% post_link [博客名] title %&#125;</span><br></pre></td></tr></table></figure>
<h2 id="页内跳转">页内跳转</h2>
<p>分成两部：定义锚点、使用markdown语法跳转 <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;span id=&quot;jump&quot;&gt; （跳转到的地方） &lt;/span&gt;</span><br><span class="line">[点击跳转](#jump)</span><br></pre></td></tr></table></figure></p>
<h2 id="列表">列表</h2>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">- 列表内容</span><br><span class="line">+ 列表内容</span><br><span class="line">1. 列表内容</span><br></pre></td></tr></table></figure>
<h2 id="代码">代码</h2>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">`代码内容`</span><br><span class="line">\``` (防止打不出加个\转义一下)</span><br><span class="line">  代码...</span><br><span class="line">  代码...</span><br><span class="line">  代码...</span><br><span class="line">\```</span><br></pre></td></tr></table></figure>
<h2 id="数学公式">数学公式</h2>
<p>公式、希腊字母、上标下标等基本语法与latex类似，可参考<a target="_blank" rel="noopener" href="https://www.jianshu.com/p/a0aa94ef8ab2">markdown数学公式</a></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">正文中$...$</span><br><span class="line">单行显示$$...$$</span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/05/24/kg/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/touxiang.JPG">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Chen's Homepage">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2021/05/24/kg/" itemprop="url">漫威人物知识图谱-MARVEL Knowledge Graph</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2021-05-24T18:16:44+08:00">
                2021-05-24
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Project/" itemprop="url" rel="index">
                    <span itemprop="name">Project</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="简介">简介</h1>
<p>本项目构建的漫威人物知识图谱基于美国漫威漫画公司制作的一系列漫画和电影组成的架空世界和共同世界。基于我们构建的知识图谱，用户可以结构化的查询人物信息，了解角色间的关系以及漫威超级英雄全貌，更深入地了解漫威宇宙。项目面向百科的中文人物领域知识构建图谱，所选人物范围为漫威人物，包括复仇者联盟、神盾局特工与反派等角色类别。最终通过neo4j数据库完成了整体框架的可视化。图谱数据基于百度百科、维基百科以及<a target="_blank" rel="noopener" href="https://graphics.straitstimes.com/STI/STIMEDIA/Interactives/2018/04/marvel-cinematic-universe-whos-who-interactive/index.html">漫威人物数据网页</a>。</p>
<h1 id="本体构建">本体构建</h1>
<p>本体是用于描述一个领域的术语集合，其组织结构是层次结构化的，可以作为一个知识库的骨架和基础。<br />
1. 领域：「漫威人物」；<br />
2. 基本术语： 「超级英雄」、「反派」等等概念<br />
3. 关系：超级英雄之间为朋友关系，反派与超级英雄之间为敌对关系，另外也存在一些情人/爱人关系。<br />
4.类别：复仇者联盟、神盾局特工、银河护卫队、超级反派、其他<br />
5.属性：中文/英文名、性别、登场作品、所属团队等</p>
<h1 id="事实抽取">事实抽取</h1>
<p>百科数据中，有许多关于漫威人物的信息，其中有不少冗余信息，如人物冗长的经历与生平等。以百度百科为例，有用的信息为人物之间的关系、阵营，人物的基本信息以及能力值的表格。</p>
<p>利用网上爬取的方式，在漫威人物网站中爬取人物人名信息。接着利用词条分类的方法，观察各个词条与漫威之间的关系，发现“漫威”二字本身不可用于唯一标识，但是“漫威旗下”或者“美国漫威漫画旗下”这些字眼却可以对漫威人物进行唯一性筛查。所以我们依据人名进入百度百科的多义词界面，根据关键词&quot;美国漫威漫画旗下&quot;或&quot;漫威旗下&quot;进行正则化筛选，从而得到有用的URL，将其保存于Excel表格之中，为之后的爬取工作提供正确的URL网址。 <img src="/images/kg/1.png" /></p>
<h2 id="人物信息抽取">人物信息抽取</h2>
<p>对于漫威人物的基本信息，我们首先利用百科的Infobox进行爬取。找到百科页面查看源网页得知，Infobox的值以basicInfo-item value作为标签存储，因此代码如下： <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">key = soup.find_all(class_=&quot;basicInfo-item name&quot;)</span><br><span class="line">val = soup.find_all(class_=&quot;basicInfo-item value&quot;)</span><br></pre></td></tr></table></figure> 这样一来，百度百科本身含有的人物基本信息就全部爬取下来了。除了基本信息以外，还有存储为表格格式的人物能力信息需要爬取。<br />
利用源网页信息中的标签可以知道，表格信息是存储在 <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;table log-set-param=&quot;table\_view&quot; data-sort=&quot;sortDisabled&quot;&gt;</span><br></pre></td></tr></table></figure> 的标识里面，但用这样的方式直接爬取会爬取到所有的表格信息，从而带来了大量的无用信息。 因此我们制订了基于模版的筛选方法，只筛选符合模版智力-力量-速度-耐力-能量发射-战斗技能的表格，用该表格的表头信息进行字符串匹配以后成功得到了有用的能力值。</p>
<h2 id="人物图片爬取">人物图片爬取</h2>
<p>得到人物基本信息与关系三元组以后，我们将百科界面中漫威人物对应的图片爬取下来，存储于后端，在查询时显示出来，提供一个较好的可视化效果。 <img src="/images/kg/2.png" alt="&#39;爬取到的人物图片&#39;" /></p>
<h2 id="三元组">三元组</h2>
<p>对于构建的知识图谱中人物关系三元组，主要数据源于外网某一漫威人物数据库，我们爬取其网站中存储的三元组csv文件，构建如（ 美国队长, 朋友 , 钢铁侠 ）形式的人物关系三元组，但是由于该网站最后更新时间为2018年，且其人物关系是基于上映的漫威系列电影，导致该部分的人物关系存在时效滞后、内容不完整等问题。因此基于已有三元组关系，我们进一步通过DeepKE从爬取的百度百科中的角色经历中进行关系三元组抽取，将得到的三元组与原有的进行更正与补充。</p>
<p>DeepKE是基于深度学习的开源中文关系抽取工具，我们对其中基于CNN、Transformer、RNN三个网络的关系抽取模型进行实验。在去年知识表示与推理课程中，漆桂林老师带领我们进行了知识抽取框架实践，根据实验结果我们发现对于是否给定头尾实体，三元组抽取的效果会有很大差别。因此在进行抽取时，我们将已有三元组的主语和宾语作为head和tail。另外，在爬取的人物角色经历中，对于冗长的文本，我们使用正则表达式对主语和宾语都在某一句中出现的句子做关系抽取。</p>
<p>关系抽取数据集来源于苏州大学开源人物关系数据集。我们先对数据做预处理，筛除掉无效的字符标点，以及数字等冗余信息，并将实体对进行编码，这可以避免模型学习对实体词过分关注以至于导致bias。我们采用了one-hot编码，将每个token映射为一个id,构建词典存储所有的token。最终可以把关系抽取出来，此处展示几个范例。将得到的关系与原本的关系进行对比，若两者存在不同，则进行人工判断，确认哪个关系是准确的。</p>
<h1 id="类别推断">类别推断</h1>
<p>知识图谱中，类别信息(Type Information)是一种特殊的三元组， 其具体表现为: <span class="math display">\[
instance \stackrel{type}{\longrightarrow} concept
\]</span> 在项目构建的漫威人物知识图谱中，由于这一任务属于特定领域的知识构建，所以我们根据类别推断的方法和目标进行一定的延伸，使用类别推断来进行漫威人物所属的组织的判断，具体的类别包括复仇者联盟、神盾局特工、银河护卫队、超级反派等。</p>
<p>在知识图谱构建中，项目结合了两种类别信息推断的方式，包括: - Type Inference from Infoboxes - Type Inference from Text</p>
<p>分析从百度百科得到的infobox，部分漫威人物的infobox中有“所属团队”这一属性，对于有该属性的人物，我们通过爬取的网页信息，用xpath解析后使用正则表达式匹配这一属性，抽取出其属性值，即该人物所属团队。</p>
<p>部分人物的infobox中不存在“所属团队”这一属性。对于这些人物，我们选择从文本中进行类别提取，即通过识别轻量级语法模式进行提取。</p>
<p>从百度百科提取的人物infobox中，我们可以从人物经历中推断如否加入了诸如神盾局特工、复仇者联盟等团队，如 A 加入了 B（复仇者联盟、神盾局特工）,其判断的正则表达式如下： <span class="math display">\[
pattern = re.compile(&#39;(.*)[\u52a0][\u5165](.*)[\u590d][\u4ec7][\u8005](.*)\$&#39;)
\]</span></p>
<p>对所有数据使用上述算法处理后，对没有不符合上述类别的归类为其他，并对得到的类别信息进行数据清洗和检查，去除了百科文本中的几个错别字并进行同义词合并，得到五个类别，对类别进行编码后保存到json文件中，后续将使用该信息在Neo4j中进行可视化。</p>
<h1 id="知识融合">知识融合</h1>
<p>知识融合目标是融合各个层面（概念层、数据层）的知识 ，基本的问题都是研究怎样将来自多个来源的关于同一个实体或概念的描述信息融合起来</p>
<p>数据预处理阶段，原始数据的质量会直接影响到最终链接的结果，不同的知识库对同一实体的描述方式往往是不相同的，对这些数据进行归一化是提高后续链接精确度的重要步骤，我们用beautifulsoup解析爬取的网页，过滤掉多余信息，只保留infobox，基本信息等数据，整合为key-value的形式并保存在json文件中。得到json文件后，英文，注释，网页中原有的错误，空格，符号等问题使用正则表达式和手动替换的方式调整。<br />
由于中文维基百科的数据较少，所以我们的知识图谱以百度百科的数据为主体构建，将维基百科的数据融合进百度百科。</p>
<h1 id="问答">问答</h1>
<p>智能问答系统以一问一答形式，从数据库中定位用户所需要的提问知识，通过与用户进行交互，为用户提供个性化的信息服务。我们在知识抽取任务得到的三元组关系的基础上，附加知识融合得到的infobox以及从百科上爬取的漫威角色图片，实现了一个问答系统。</p>
<p>对于KB-QA问题，首要任务是如何将用户查询的语句转换成数据库可识别的问题，转换的同时还需要保证转换的高准确率。而高准确率的基础，则是表现良好的分词模型。</p>
<p>例如，当用户提出一个问题：&quot;绿巨人的爱人是谁？”时，我们需要对文本数据进行处理。通过进行分词、词性标注等操作，我们能提取出关键字。在上面的问句中，我们通过词性标注可以得到：</p>
<p><span class="math display">\[
[&#39;绿巨人/nr&#39;, &#39;的/deg&#39;, &#39;爱人/n&#39;, &#39;是/vc&#39;, &#39;谁/pn&#39;]
\]</span></p>
<p>类似地，用户所有的查询都可以进行同样操作。在阅读大量文献后，我们选择了两种模型进行实现。一种是被广泛使用的中文分词模型LTP，另一种是ACL2020新提出的命名实体识别模型FLAT。</p>
<p><strong>LTP</strong></p>
<p>LTP是基于词性标注、依存语法分析的一种分词模型。其本质可以视作一个感知机。这种通过结构化感知器训练的经典模型在多个中文分词数据集上都取得了较好的效果。</p>
<p><strong>FLAT</strong></p>
<p>在我们构建的知识图谱中，有许多实体词条在日常生活中易出现歧义。如对于&quot;美国队长&quot;一词，我们很容易将&quot;美国&quot;和&quot;队长&quot;分成两个实体。所以，在用户查询语句中，我们应该重点关注命名实体识别问题。</p>
<p>FLAT是一种表现SOTA的命名实体识别模型。它是一种基于汉字格结构和Transformer的模型。汉字格结构思想的提出已有较长时间。汉字格结构是指我们可以将一个句子与一个词典进行匹配，得到其中的潜词，从而得到一个有向无环图，其中每个节点都是一个字符或一个潜在的字。格包括句子中的一系列字符和可能的单词。它们不是按顺序排列的，单词的第一个字符和最后一个字符决定了它的位置。在汉字格结构的基础上，FLAT提出了一种新的编码方式，将一句话的格之间的位置编码并扩展成平面。句子的编码再送入transformer进行进行训练。<br />
我们在MSRA上进行了模型训练，模型测试准确率达到了0.94。最终我们结合FLAT、字典匹配、LTP进行人物名称识别和分词，共同完成了任务。</p>
<h1 id="推荐系统">推荐系统</h1>
<p>我们使用中文维基百科语料以及爬取到的漫威人物文本资料做了embedding，并根据word2vec构建了漫威人物推荐系统，输出与用户输入人物距离最近的人物。完整处理过程包括解析中文维基百科文件，繁体简体转化，数据清洗，中文分词，Gensim词嵌入模型训练。</p>
<p>对于中文分词模块，考虑人物名字以及特殊能力等名词分词存在较大难度，我们复现了SOTA中文分词，并与jieba分词的效果做了对比实验。</p>
<p>中文维基百科数据来源于 zhwiki-20210301-pages-articles.xml.bz2 文件。先用Gensim库中的WikiCorpus()函数对其进行处理，得到繁体中文维基语料的txt文件。对于繁体中文，我们需要将其转化为简体中文。应用python中的opencc库（Open Chinese convert）对繁体维基百科文件按行进行t2s处理，同时将txt文件中的 t, n等字符进行清洗，得到中文简体维基语料。另外在分词处理前，用iconv()函数处理文件中的非utf-8字符。</p>
<p>分词处理时，我们选择了Tian等人发表在ACL2020中的中文分词SOTA模型<span class="math inline">\(WMS_{EG}\)</span>，其在MSR、PKU等数据集上的OOV Recall比之前的模型提高了约3%。这一套分词模型在传统encoder-decoder模型中增加了Memory Network。我们复现模型时，选择ZEN作为encoder、crf作为decoder，并用项目提供的WMSeg.ZEN.PKU预训练模型进行分词，在应用前我们在简单语句上进行测试，分词结果良好。</p>
<p><img src="/images/kg/5.png" title="分词结果" /></p>
<p>根据得到的分词结果，我们使用开源的第三方Python工具包Gensim进行word2vec模型训练，设定词向量维度为400，模型为CBOW连续词袋模型。在服务器上，workers数量为32，训练时长约1h。</p>
<h1 id="可视化">可视化</h1>
<p>知识图谱构建完成后，我们将其进行了可视化展示。可视化展示基于Neo4j图形数据库。在于Neo4j框架下，每一个实体都以一个节点的形式呈现，整体数据以结构化数据存储在网络中。在图形数据库的基础上，我们进行了实体与实体间关系、知识问答的可视化实现。同时，为了能够更好地让知识图谱服务于用户，我们以网页的形式展示图形数据库。在前端部分，我们进行了一些CSS修饰工作。 <img src="/images/kg/3.png" /> <img src="/images/kg/4.png" title="人物关系全貌" /></p>
<h1 id="后记">后记</h1>
<p>本项目为知识图谱课程设计的小组作品。整个项目数据量不大，且所实现的功能也没有涉及到一些sota的模型或现在主流的技术，也借鉴了部分网上的开源代码，最后课程得分也只有88（跟我大学四年均分一样）。不过这个课程设计让我结实了一群有趣的朋友，收获了珍贵友谊，与之对于什么项目经历倒也显得微不足道了。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://example.com/2020/09/25/dae/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/touxiang.JPG">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Chen's Homepage">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/09/25/dae/" itemprop="url">DAE for Action Quality Assessment(AQA)  [CV]</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-09-25T23:21:47+08:00">
                2020-09-25
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Research/" itemprop="url" rel="index">
                    <span itemprop="name">Research</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><font  size=5>Auto-Encoding Score Distribution Regression for Action Quality Assessment</font></p>
<p><a target="_blank" rel="noopener" href="https://arxiv.org/abs/2111.11029" class="uri">https://arxiv.org/abs/2111.11029</a></p>
<p><em>Action quality assessment (AQA) from videos is a challenging vision task since the relation between videos and action scores is difficult to model. Thus, action quality assessment has been widely studied in the literature. Traditionally, AQA task is treated as a regression problem to learn the underlying mappings between videos and action scores. More recently, the method of uncertainty score distribution learning (USDL) made success due to the introduction of label distribution learning (LDL). But USDL does not apply to dataset with continuous labels and needs a fixed variance in training. In this paper, to address the above problems, we further develop Distribution Auto-Encoder (DAE). DAE takes both advantages of regression algorithms and label distribution learning (LDL). Specifically, it encodes videos into distributions and uses the reparameterization trick in variational auto-encoders (VAE) to sample scores, which establishes a more accurate mapping between videos and scores. Meanwhile, a combined loss is constructed to accelerate the training of DAE. DAE-MT is further proposed to deal with AQA on multi-task datasets. We evaluate our DAE approach on MTL-AQA and JIGSAWS datasets. Experimental results on public datasets demonstrate that our method achieves state-of- the-arts under the Spearman’s Rank Correlation: 0.9449 on MTL-AQA and 0.73 on JIGSAWS.</em></p>
<h2 id="aqa">AQA</h2>
<p>Action Quality Accessment (AQA) automatically scores the quality of actions by analyzing features extracted from videos and images. It’s different from conventional action recognition problem. In the past few years, much work has been devoted to different AQA tasks, such as healthcare, sports video analysis and many others.</p>
<h2 id="related-work">Related Work</h2>
<p>Parmar <em>et al.</em> [1] proposed C3D-SVR and C3D-LSTM to predict the score of the Olympic events. Additionally, incremental-label training method was introduced to train the LSTM model based on the hypothesis that the final score is an aggregation of the sequential sub-action scores.</p>
<p>Tang <em>et al.</em> noticed the underlying ambiguity of action scores and then proposed an improved approach: uncertainty-aware score distribution learning (USDL) [2] to address this problem. USDL is designed based on label distribution learning (LDL), a general learning paradigm to solve problems with uncertainty and answer how much each label describes the instance.</p>
<h2 id="methoddae">Method:DAE</h2>
<p><img src="/images/dae1.png" title="The pipeline of DAE architecture contains two segments: video features extraction network (orange) and label distribution encoding network (pink)." /></p>
<h3 id="video-feature-extraction">Video Feature Extraction</h3>
<p>The input video is divided into n small clips by down-sampling. Then the clips are sent into I3D ConvNets for extracting features. The final features are synthesized by three fully-connected layers.</p>
<h3 id="auto-encoder-for-distribution-learning">Auto-Encoder for Distribution Learning</h3>
<p>Compared with the regression-based method and the label distribution learning method, our approach combines the two methods’ characteristics comprehensively. The action features are encoded into score distribution, and the final result is sampled from the auto-encoders output. This architecture en- ables learning a continuous distribution without loss in training procedure and quantifies the uncertainty of action score with high accuracy.</p>
<p>The encoder uses a simple but quite an efficient neural network, namely multi-layered perceptrons (MLPs), to encode mean and variance simultaneously. The input 1024-dimensional feature vector x is encoded into the parameters <span class="math inline">\(μ(x)\)</span> and <span class="math inline">\(σ^2(x)\)</span> via a neural network.</p>
<p>We take the action score as a random variable. Treating the action score as a random variable, we need to learn its score distribution and then sample the predicted score from the obtained distribution. <span class="math display">\[
p\left(y ; \mu(\boldsymbol{x}), \sigma^{2}(\boldsymbol{x})\right)=\frac{1}{\sqrt{2 \pi \sigma^{2}(\boldsymbol{x})}} \exp \left(-\frac{(y-\mu(\boldsymbol{x}))^{2}}{2 \sigma^{2}(\boldsymbol{x})}\right)
\]</span></p>
<p>To generate a sample from Gaussian distributed y as the predicted score and make full use of the two parameters in the score distribution at the same time, we invoke the reparameterization trick. According to reparameterization trick in VAE [3], assume that <span class="math inline">\(z\)</span> is a random variable, and <span class="math inline">\(z \sim q(z ; \phi), \phi\)</span> is its parameter. We can express <span class="math inline">\(z\)</span> as a deterministic variable, <span class="math inline">\(z=g(\epsilon ; \phi), \epsilon\)</span> is an auxiliary variable with independent marginal <span class="math inline">\(p(\epsilon)\)</span>, and <span class="math inline">\(g(\cdot ; \phi)\)</span> is a deterministic function parameterized by <span class="math inline">\(\phi\)</span>.<br />
<span class="math display">\[
y=\mu(\boldsymbol{x})+\epsilon * \sigma^{2}(\boldsymbol{x})
\]</span></p>
<h2 id="experiments">Experiments</h2>
<p>We use Spearman’s rank correlation to measure the performance of our methods between the ground-truth and predicted score series. Spearman’s correlation is defined as: <span class="math display">\[
\rho=\frac{\sum_{i}\left(p_{i}-\bar{p}\right)\left(q_{i}-\bar{q}\right)}{\sqrt{\sum_{i}\left(p_{i}-\bar{p}\right)^{2} \sum_{i}\left(q_{i}-\bar{q}\right)^{2}}}
\]</span> <img src="/images/dae2.png" title="The results on JIGSAWS." /> <img src="/images/dae3.png" title="The results on MTL-AQA." /></p>
<p><img src="/images/dae4.png" title="Comparison of different distribution of different videos on MTL-AQA dataset." /></p>
<p>References (incomplete)<br />
[1] What and How Well You Performed? A Multitask Learning Approach to Action Quality Assessment<br />
[2] Uncertainty-aware score distribution learning for action quality assessment<br />
[3] Auto-encoding variational bayes</p>
<p>Cooperate with zby (seu) supervisor: xyf (seu)<br />
<a target="_blank" rel="noopener" href="https://github.com/InfoX-SEU/DAE-AQA">Github link</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://example.com/2020/08/09/mcmc/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/touxiang.JPG">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Chen's Homepage">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/08/09/mcmc/" itemprop="url">Markov Chain Monte Carlo</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-08-09T20:34:33+08:00">
                2020-08-09
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Preliminary-AI/" itemprop="url" rel="index">
                    <span itemprop="name">Preliminary AI</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://example.com/2020/07/09/vi/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/touxiang.JPG">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Chen's Homepage">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/07/09/vi/" itemprop="url">Variational Inference</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-07-09T18:04:42+08:00">
                2020-07-09
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Preliminary-AI/" itemprop="url" rel="index">
                    <span itemprop="name">Preliminary AI</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>参考内容：<a target="_blank" rel="noopener" href="https://arxiv.org/abs/1601.00670">Variational Inference: A Review for Statisticians</a>、《深度学习》</p>
<h1 id="背景">背景</h1>
<p>从贝叶斯派角度来看，对于一个问题可以分为贝叶斯推断和贝叶斯决策两个部分。由推断得到<span class="math inline">\(P(\theta|x)\)</span>，再据此进行决策/预测。从另一个角度来说，这也是一个Encoding的过程。<br />
变分推断是一种近似推断的方法。在概率模型中，我们往往需要对难以计算或计算开销极大的分布进行近似。从贝叶斯派的角度来看，对未知量的推断实际上是对后验概率的计算，MCMC就是一种计算的方法。但相较于MCMC，变分推断在大数据下更加快速。<br />
至于变分，我们把“自变量也是函数的函数”称为泛函，求泛函的极值问题称为变分问题。</p>
<h1 id="基本思路">基本思路</h1>
<p>对于一个一般的问题，我们考虑一个观测变量<span class="math inline">\(\mathbf{x}=x_{1: n}\)</span>和隐变量<span class="math inline">\(\mathbf{z}=z_{1: m}\)</span>的联合概率分布 <span class="math display">\[
p(\mathbf{z}, \mathbf{x})=p(\mathbf{z}) p(\mathbf{x} \mid \mathbf{z})
\]</span> 从贝叶斯统计的角度而言，隐变量的分布能确定数据的分布。通过先验分布<span class="math inline">\(p(\mathbf{z})\)</span>得到隐变量，并借助似然<span class="math inline">\(p(\mathbf{x} \mid \mathbf{z})\)</span>得到观测变量</p>
<blockquote>
<p>Inference in a Bayesian model amounts to conditioning on data and computing the posterior <span class="math inline">\(p(\mathbf{z} \mid \mathbf{x})\)</span>. In complex Bayesian models, this computation often requires approximate inference.</p>
</blockquote>
<p>对于MCMC，我们首先基于<span class="math inline">\(z\)</span>构造一个马尔可夫链 (其平稳分布就是<span class="math inline">\(p(\mathbf{z} \mid \mathbf{x})\)</span>)，而后从分布中采样，借此作为后验分布的近似。而变分推断的主要思想是将近似转化为一个优化问题，即找到一个分布（from a family of approximate densities）与后验分布的KL divergence尽可能小。</p>
<h1 id="数学推导">数学推导</h1>
<p>变分推断的目标是在已知观测变量的情况下近似得到隐变量的条件密度。其核心思想是用优化的方法来解决这个问题。我们借助分布族，以“变分参数”参数化来得到隐变量的分布。而最优的变分参数则根据KL散度在分布族中寻找。最终将这一分布作为精确的条件密度的近似。</p>
<p>令<span class="math inline">\(\mathbf{x}=x_{1: n}\)</span>为观测变量，<span class="math inline">\(\mathbf{z}=z_{1: m}\)</span>为隐变量，目标是计算给定观测变量下隐变量的条件概率分布<span class="math inline">\(p(\mathbf{z} \mid \mathbf{x})\)</span>， <span class="math display">\[
p(\mathbf{z} \mid \mathbf{x})=\frac{p(\mathbf{z}, \mathbf{x})}{p(\mathbf{x})}
\]</span> 上式分母我们称之为evidence，可以借助联合概率密度进行计算 <span class="math display">\[
p(\mathbf{x})=\int p(\mathbf{z}, \mathbf{x}) \mathrm{d} \mathbf{z}
\]</span> 在贝叶斯模型中，我们将模型所有的未知参数都表示为隐变量（latent variables），而上面evidence的积分在很多情况下需要指数时间，而不计算evidence又没法得到我们所需的条件概率，所以这也是变分推断的困难所在。</p>
<h2 id="elbothe-evidence-lower-bound">ELBO(The evidence lower bound)</h2>
<p>在变分推断中，我们指定一个隐变量的分布族<span class="math inline">\(\mathscr{Q}\)</span>，其中每一个<span class="math inline">\(q(\mathbf{z}) \in \mathscr{Q}\)</span>都是条件概率分布近似的候选项，而我们的目标就是找到一个最优，也就是KL散度最小的。因此我们的推断问题就对应于一个优化问题： <span class="math display">\[
q^{*}(\mathbf{z})=\underset{q(\mathbf{z}) \in \mathscr{Q}}{\arg \min } \mathrm{KL}(q(\mathbf{z}) \| p(\mathbf{z} \mid \mathbf{x}))
\]</span> 同样，上式是无法直接计算的，因为 <span class="math display">\[
\mathrm{KL}(q(\mathbf{z}) \| p(\mathbf{z} \mid \mathbf{x}))=\mathbb{E}[\log q(\mathbf{z})]-\mathbb{E}[\log p(\mathbf{z} \mid \mathbf{x})]
\]</span> <span class="math display">\[
\mathrm{KL}(q(\mathbf{z}) \| p(\mathbf{z} \mid \mathbf{x}))=\mathbb{E}[\log q(\mathbf{z})]-\mathbb{E}[\log p(\mathbf{z}, \mathbf{x})]+\log p(\mathbf{x})
\]</span> 而<span class="math inline">\(\log p(\mathbf{x})\)</span>也就是evidence就是我们要绕过的。<br />
因为我们没法直接计算KL散度，所以将优化目标进行转化 <span class="math display">\[
\operatorname{ELBO}(q)=\mathbb{E}[\log p(\mathbf{z}, \mathbf{x})]-\mathbb{E}[\log q(\mathbf{z})]
\]</span> 上式就是<strong>evidence lower bound（ELBO）</strong>，它等于负KL-divergence 加上<span class="math inline">\(\log p(\mathbf{x})\)</span>，最小化KL散度就相当于最大化ELBO，因为虽然<span class="math inline">\(\log p(\mathbf{x})\)</span>无法求得，但在给定<span class="math inline">\(q(\mathbf{z})\)</span>下它是一个常数，所以对<span class="math inline">\(q(\mathbf{z})\)</span>的导数为0.</p>
<p><span class="math display">\[
\begin{aligned}
\operatorname{ELBO}(q) &amp;=\mathbb{E}[\log p(\mathbf{z})]+\mathbb{E}[\log p(\mathbf{x} \mid \mathbf{z})]-\mathbb{E}[\log q(\mathbf{z})] \\
&amp;=\mathbb{E}[\log p(\mathbf{x} \mid \mathbf{z})]-\mathrm{KL}(q(\mathbf{z}) \| p(\mathbf{z}))
\end{aligned}
\]</span> 重写ELBO后可以看到，第一项是似然的期望，它促使模型将它的隐藏变量集中于可以解释观察数据的配置上，第二项是隐变量变分分布与先验分布的KL divergence的相反数，它促使变分分布接近于先验分布，所以变分模型的目标函数是似然函数与先验分布的一种平衡。此外，上式的第一项正是EM算法中优化的expected complete log-likelihood。<br />
为什么这式被称为evidence lower bound？<br />
因为KL散度的非负性，所以对于任何<span class="math inline">\(q(\mathbf{z})\)</span>都有<span class="math inline">\(\log p(\mathbf{x}) \geq \operatorname{ELBO}(q)\)</span></p>
<h2 id="the-mean-field-variational-family">The mean-field variational family</h2>
<p>将优化目标转化为最大化ELBO之后，我们要选择合适的变分族，而这一函数族的复杂度也决定了优化的复杂度。在这里我们引入平均场变分族(mean-field variational family)，它假设隐变量之间都是相互独立的，这一假设是一个较强的假设，但我们可以将相互关联的隐变量归为一组，进而转化为相互独立的各组隐变量。引入这一假设之后就有： <span class="math display">\[
q(\mathbf{z})=\prod_{j=1}^{m} q_{j}\left(z_{j}\right)
\]</span> 变分族的选择是与观测数据<span class="math inline">\(x\)</span>无关的，在ELBO或者KL散度中才将数据与隐变量建立联系。<br />
根据条件概率分布的链式法则我们有<span class="math inline">\(p\left(z_{1: m}, x_{1: n}\right)=p\left(x_{1: n}\right) \prod_{j=1}^{m} p\left(z_{j} \mid z_{1:(j-1)}, x_{1: n}\right)\)</span>。<br />
变分分布的期望为<span class="math inline">\(E\left[\log q\left(z_{1: m}\right)\right]=\sum_{j=1}^{m} E_{j}\left[\log q\left(z_{j}\right)\right]\)</span>，代入ELBO的定义式就有 <span class="math display">\[
E L B O=\log p\left(x_{1: n}\right)+\sum_{j=1}^{m} E\left[\log p\left(z_{j} \mid z_{1:(j-1)}, x_{1: n}\right)\right]-E_{j}\left[\log q\left(z_{j}\right)\right]
\]</span></p>
<h2 id="coordinate-ascent-mean-field-variational-inference">Coordinate ascent mean-field variational inference</h2>
<p>CAVI是针对该优化问题的一个常用算法，它迭代优化每一项隐变量变分分布，保持另外的不变。具体而言，当我们将ELBO对<span class="math inline">\(z_{k}\)</span>求导并令导数为0时，有： <span class="math display">\[
\frac{d E L B O}{d q\left(z_{k}\right)}=E_{-k}\left[\log p\left(z_{k} \mid z_{-k}, x\right)\right]-\log q\left(z_{k}\right)-1=0
\]</span> 也就是说 <span class="math display">\[
q_{j}^{*}\left(z_{j}\right) \propto \exp \left\{\mathbb{E}_{-j}\left[\log p\left(z_{j} \mid \mathbf{z}_{-j}, \mathbf{x}\right)\right]\right\}
\]</span></p>
<p><img src="/images/vimcmc/1.png" title="算法伪代码" /></p>
<p>从ELBO导数到具体坐标上升法的更新法则需要较冗长的推导过程，在此省略了。事实上对于变分推断最出圈的变分自编码器中也不涉及梯度变分的步骤，因此这里也就不具体介绍。</p>
<h1 id="再回首">再回首</h1>
<p>最先接触变分推断是在大二的暑期，而现在再去回忆起变分推断时，首先想到的便是论文中intractable和estimation这两个词。在我看到这整个过程的核心点在于后验无法直接计算，进而利用另一个分布<span class="math inline">\(q\)</span>进行近似，以及后续的优化问题和ELBO。无独有偶，EM算法中的核心推导部分也设计到了其中的ELBO项。这些算法背后都有着坚实而严谨的数学支撑，而我关注的另一个近似推断的算法SVGD也是由一个早已被数学家提出的stein discrepancy产生的想法。虽然在生成模型上GAN的风头早已盖过了VAE，但仅关注模型跑分的人又怎么会理解VAE中的奇妙的思想。周志华老师在深度森林的路上走出了自己独特的道路，相信未来AI的发展也不会仅限于深度神经网络这一条道路。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/default/page/2/">&lt;</a><a class="page-number" href="/default/">1</a><a class="page-number" href="/default/page/2/">2</a><span class="page-number current">3</span>
  </nav>




          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="/images/touxiang.JPG"
                alt="" />
            
              <p class="site-author-name" itemprop="name"></p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/%7C%7C%20archive">
              
                  <span class="site-state-item-count">25</span>
                  <span class="site-state-item-name">posts</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">6</span>
                  <span class="site-state-item-name">categories</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">18</span>
                  <span class="site-state-item-name">tags</span>
                </a>
              </div>
            

          </nav>

          
            <div class="feed-link motion-element">
              <a href="/atom.xml" rel="alternate">
                <i class="fa fa-rss"></i>
                RSS
              </a>
            </div>
          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="https://github.com/Bbchen229" target="_blank" title="GitHub">
                      
                        <i class="fa fa-fw fa-github"></i>GitHub</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="mailto:1109441357@qq.com" target="_blank" title="E-Mail">
                      
                        <i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                  </span>
                
            </div>
          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Chen jiayuan</span>

  
</div>





        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
          <span id="scrollpercent"><span>0</span>%</span>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  


  











  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  

  
  
    <script type="text/javascript" src="/lib/canvas-nest/canvas-nest.min.js"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  
  
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
      });
    </script>

    <script type="text/x-mathjax-config">
      MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
      });
    </script>
    <script type="text/javascript" src="//cdn.bootcss.com/mathjax/2.7.1/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
  


  

  

</body>
</html>
